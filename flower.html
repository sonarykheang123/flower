<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Romantic Flower Garden</title>
  <style>
    * {
      margin: 0; padding: 0; box-sizing: border-box;
    }
    body, html {
      width: 100%; height: 100%; overflow: hidden;
      background: #000; font-family: 'Segoe UI', sans-serif;
    }
    #intro {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(to bottom, #ffafbd, #ffc3a0);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
      flex-direction: column;
    }
    #intro h1 {
      font-size: 3rem;
      color: #fff;
      margin-bottom: 30px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    #startBtn {
      padding: 15px 40px;
      background: #ff6699;
      color: white;
      font-size: 1.2rem;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(255,102,153,0.4);
      transition: 0.3s ease;
    }
    #startBtn:hover {
      background: #ff3366;
      transform: scale(1.05);
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>

<div id="intro">
  <h1>ðŸŒ¸ Welcome to the Flower Garden ðŸŒ¸</h1>
  <button id="startBtn">Start Garden</button>
</div>

<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
let width, height;

function resize() {
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

class Flower {
  constructor(x, y, size, colors) {
    this.x = x;
    this.y = y;
    this.size = size;
    this.petalCount = 6 + Math.floor(Math.random() * 5);
    this.angle = 0;
    this.colors = colors;
  }

  draw() {
    ctx.save();
    ctx.translate(this.x, this.y);
    this.angle += 0.01;
    ctx.rotate(this.angle);
    for (let i = 0; i < this.petalCount; i++) {
      ctx.rotate((Math.PI * 2) / this.petalCount);
      const grad = ctx.createRadialGradient(0, 0, 0, 0, 0, this.size);
      grad.addColorStop(0, this.colors.inner);
      grad.addColorStop(1, this.colors.outer);
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.moveTo(0, 0);
      ctx.quadraticCurveTo(this.size, this.size / 2, 0, this.size);
      ctx.quadraticCurveTo(-this.size, this.size / 2, 0, 0);
      ctx.fill();
    }
    ctx.beginPath();
    ctx.fillStyle = this.colors.center;
    ctx.arc(0, 0, this.size / 3, 0, Math.PI * 2);
    ctx.fill();
    ctx.restore();
  }
}

class Garden {
  constructor(count) {
    this.flowers = [];
    for (let i = 0; i < count; i++) {
      const x = Math.random() * width;
      const y = Math.random() * height;
      const size = 20 + Math.random() * 20;
      const style = flowerStyles[Math.floor(Math.random() * flowerStyles.length)];
      this.flowers.push(new Flower(x, y, size, style));
    }
  }

  update() {}
  draw() {
    this.flowers.forEach(f => f.draw());
  }
}

const flowerStyles = [
  { inner: "#ffe6f0", outer: "#ffb3cc", center: "#ff66b2" },
  { inner: "#d1c4e9", outer: "#9575cd", center: "#7e57c2" },
  { inner: "#c8e6c9", outer: "#81c784", center: "#66bb6a" },
  { inner: "#b3e5fc", outer: "#4fc3f7", center: "#29b6f6" },
  { inner: "#fff9c4", outer: "#fff176", center: "#ffee58" },
  { inner: "#ffccbc", outer: "#ff8a65", center: "#ff7043" },
  { inner: "#fce4ec", outer: "#f06292", center: "#ec407a" },
  { inner: "#e1f5fe", outer: "#4fc3f7", center: "#0288d1" },
  { inner: "#f3e5f5", outer: "#ce93d8", center: "#ab47bc" },
  { inner: "#e8f5e9", outer: "#a5d6a7", center: "#66bb6a" },
];

let petals = [];
let butterflies = [];
let garden = new Garden(25);
let letter = { x: width / 2, y: 100, scale: 1, pulse: 0 };

class Petal {
  constructor() { this.reset(); }
  reset() {
    this.x = Math.random() * width;
    this.y = Math.random() * height;
    this.size = 10 + Math.random() * 10;
    this.speedY = 0.3 + Math.random() * 0.6;
    this.speedX = Math.random() * 0.6 - 0.3;
    this.angle = Math.random() * Math.PI * 2;
    this.rotateSpeed = Math.random() * 0.02 - 0.01;
    this.opacity = 0.5 + Math.random() * 0.5;
  }
  update() {
    this.y += this.speedY;
    this.x += this.speedX;
    this.angle += this.rotateSpeed;
    if (this.y > height || this.x < 0 || this.x > width) this.reset();
  }
  draw() {
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.rotate(this.angle);
    ctx.globalAlpha = this.opacity;
    ctx.fillStyle = '#ffc0cb';
    ctx.beginPath();
    ctx.ellipse(0, 0, this.size * 0.6, this.size, 0, 0, Math.PI * 2);
    ctx.fill();
    ctx.globalAlpha = 1;
    ctx.restore();
  }
}

class Butterfly {
  constructor() { this.reset(); }
  reset() {
    this.x = Math.random() * width;
    this.y = Math.random() * height * 0.5;
    this.wing = 0;
    this.direction = Math.random() > 0.5 ? 1 : -1;
    this.color = `hsl(${Math.random() * 360}, 80%, 60%)`;
  }
  update() {
    this.x += 1.5 * this.direction;
    this.y += Math.sin(performance.now() * 0.002 + this.x * 0.01) * 0.5;
    this.wing += 0.2;
    if (this.x > width + 50 || this.x < -50) this.reset();
  }
  draw() {
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.scale(this.direction, 1);
    ctx.beginPath();
    ctx.fillStyle = this.color;
    ctx.moveTo(0, 0);
    ctx.bezierCurveTo(20 + Math.sin(this.wing) * 10, -20, 20, -20, 10, 0);
    ctx.bezierCurveTo(20 + Math.sin(this.wing) * 10, 20, 20, 20, 10, 0);
    ctx.moveTo(0, 0);
    ctx.bezierCurveTo(-20 + Math.sin(this.wing) * 10, -20, -20, -20, -10, 0);
    ctx.bezierCurveTo(-20 + Math.sin(this.wing) * 10, 20, -20, 20, -10, 0);
    ctx.fill();
    ctx.restore();
  }
}

for (let i = 0; i < 30; i++) petals.push(new Petal());
for (let i = 0; i < 5; i++) butterflies.push(new Butterfly());

// Track mouse for hover detection on letter box
let mouseX = 0;
let mouseY = 0;
let isHoveringLetter = false;

canvas.addEventListener("mousemove", e => {
  const rect = canvas.getBoundingClientRect();
  mouseX = e.clientX - rect.left;
  mouseY = e.clientY - rect.top;
  const dx = mouseX - letter.x;
  const dy = mouseY - letter.y;
  isHoveringLetter = Math.abs(dx) < 80 && Math.abs(dy) < 50;
});

function drawLetter() {
  ctx.save();
  ctx.translate(letter.x, letter.y + Math.sin(performance.now() * 0.002) * 5);
  ctx.scale(letter.scale + Math.sin(letter.pulse) * 0.02, letter.scale + Math.sin(letter.pulse) * 0.02);

  if (isHoveringLetter) {
    ctx.fillStyle = "#ff6688";  // brighter fill on hover
    ctx.strokeStyle = "#ff3366"; // brighter border on hover
  } else {
    ctx.fillStyle = "#fff5f5";
    ctx.strokeStyle = "#ff99aa";
  }

  ctx.lineWidth = 2;
  ctx.beginPath();
  // roundRect polyfill
  if (!ctx.roundRect) {
    ctx.roundRect = function(x, y, w, h, r) {
      if (typeof r === "number") {
        r = {tl: r, tr: r, br: r, bl: r};
      } else {
        var defaultRadius = {tl:0, tr:0, br:0, bl:0};
        for (var side in defaultRadius) {
          r[side] = r[side] || defaultRadius[side];
        }
      }
      this.beginPath();
      this.moveTo(x + r.tl, y);
      this.lineTo(x + w - r.tr, y);
      this.quadraticCurveTo(x + w, y, x + w, y + r.tr);
      this.lineTo(x + w, y + h - r.br);
      this.quadraticCurveTo(x + w, y + h, x + w - r.br, y + h);
      this.lineTo(x + r.bl, y + h);
      this.quadraticCurveTo(x, y + h, x, y + h - r.bl);
      this.lineTo(x, y + r.tl);
      this.quadraticCurveTo(x, y, x + r.tl, y);
      this.closePath();
      return this;
    }
  }

  ctx.roundRect(-80, -50, 160, 100, 12);
  ctx.fill();
  ctx.stroke();

  ctx.fillStyle = "#ff6688";
  ctx.font = "bold 18px Segoe UI";
  ctx.textAlign = "center";
  ctx.fillText("Masha Welcome", 0, -15);
  ctx.font = "16px Segoe UI";
  ctx.fillText("To Our Garden", 0, 10);
  ctx.fillText("ðŸŒ·", 0, 30);

  ctx.restore();
}

function clear() {
  ctx.fillStyle = "#000000";
  ctx.fillRect(0, 0, width, height);
}

function animate() {
  clear();
  garden.update();
  petals.forEach(p => { p.update(); p.draw(); });
  butterflies.forEach(b => { b.update(); b.draw(); });
  garden.draw();
  drawLetter();
  letter.pulse += 0.05;
  requestAnimationFrame(animate);
}

// Click event on letter box
canvas.addEventListener("click", e => {
  const rect = canvas.getBoundingClientRect();
  const mx = e.clientX - rect.left;
  const my = e.clientY - rect.top;
  const dx = mx - letter.x;
  const dy = my - letter.y;
  if (Math.abs(dx) < 80 && Math.abs(dy) < 50) {
    alert("ðŸ’– You are as lovely as this garden ðŸŒ¸");
  }
});

document.getElementById("startBtn").addEventListener("click", () => {
  document.getElementById("intro").style.display = "none";
  animate();
});
</script>

</body>
</html>
